{"version":3,"sources":["../../src/pages/profile/profile.module.ts","../../src/pages/profile/profile.ts"],"names":[],"mappings":"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","file":"6.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ProfilePage } from './profile';\n\n@NgModule({\n  declarations: [\n    ProfilePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ProfilePage),\n  ],\n})\nexport class ProfilePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ModalController, LoadingController, AlertController } from 'ionic-angular';\nimport { AuthProvider } from '../../providers/auth/auth';\nimport { ToastController } from 'ionic-angular';\nimport { EditprofilePage } from '../editprofile/editprofile';\nimport { ProfileProvider } from '../../providers/profile/profile';\n\n@IonicPage()\n@Component({\n  selector: 'page-profile',\n  templateUrl: 'profile.html',\n})\nexport class ProfilePage {\n  user: object;\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams, \n    public authProvider: AuthProvider, \n    private toastCtrl: ToastController, \n    public modalCtrl: ModalController, \n    public profileProvider: ProfileProvider,\n    public loadingCtrl: LoadingController ,\n    public alertCtrl: AlertController\n  ) {\n  }\n\n  ionViewDidLoad() {\n    this.loadProfile();\n  }\n\n  loadProfile() {\n    this.profileProvider.loadProfile().then(userData => {\n      console.log('userData', userData);\n      this.user = userData;\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  profileChange(event) {\n    let loading = this.loadingCtrl.create({\n      content: 'Uploading your profile picture, please wait...'\n    });\n  \n    loading.present();\n    this.profileProvider.uploadPhoto(event.target.files.item(0)).then(photo => {\n      this.profileProvider.saveFileData(photo).then(res => {\n        this.loadProfile();\n        loading.dismiss();\n      });\n    }).catch(err => {\n      loading.dismiss();\n      let toast = this.toastCtrl.create({\n        message: err.message,\n        duration: 5000,\n        position: 'bottom'\n      });\n\n      toast.present();\n    });\n  }\n\n  editProfile() {\n    let modal = this.modalCtrl.create(EditprofilePage, this.user);\n\n    modal.onDidDismiss(data => {\n      if(data) {\n        this.loadProfile();\n      }\n    });\n\n    modal.present();\n  }\n\n  logout() {\n    let confirm = this.alertCtrl.create({\n      title: 'Logout Confirmation?',\n      message: 'Are you sure do you want to log out?',\n      buttons: [\n        {\n          text: 'Cancel',\n          handler: () => {\n          }\n        },\n        {\n          text: 'Ok',\n          handler: () => {\n            this.authProvider.logout().then(() => {\n              localStorage.clear();\n              this.navCtrl.push('HomePage');\n            }).catch(err => {\n              let toast = this.toastCtrl.create({\n                message: err.message,\n                duration: 5000,\n                position: 'bottom'\n              });\n        \n              toast.present();\n            });\n          }\n        }\n      ]\n    });\n\n    confirm.present();\n  }\n\n  registeredPetsClick() {\n    this.navCtrl.push('RegisterpetsPage');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.ts"],"sourceRoot":""}