{"version":3,"sources":["../../src/pages/lostpets/lostpets.module.ts","../../src/pages/lostpets/lostpets.ts"],"names":[],"mappings":"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","file":"8.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LostpetsPage } from './lostpets';\n\n@NgModule({\n  declarations: [\n    LostpetsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LostpetsPage),\n  ],\n})\nexport class LostpetsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/lostpets/lostpets.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ModalController, AlertController } from 'ionic-angular';\nimport { AddLostPetFormPage } from '../add-lost-pet-form/add-lost-pet-form';\nimport { LostpetProvider } from '../../providers/lostpet/lostpet';\nimport * as firebase from 'firebase';\nimport 'firebase/firestore';\nimport { LostPetDetailsPage } from '../lost-pet-details/lost-pet-details';\n\n@IonicPage()\n@Component({\n  selector: 'page-lostpets',\n  templateUrl: 'lostpets.html',\n})\nexport class LostpetsPage {\n  pets: any;\n  petsCount: number = 0;\n  db: any = firebase.firestore();\n  pageLoaded: boolean = false;\n  userId: string = localStorage.getItem('userId');\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams, \n    public modalCtrl: ModalController,\n    public lostpetProvider: LostpetProvider,\n    public alertCtrl: AlertController\n  ) {\n    this.getItems();\n  }\n\n  addLostPet() {\n    let modal = this.modalCtrl.create(AddLostPetFormPage);\n\n    modal.onDidDismiss(data => {\n      \n    });\n\n    modal.present();\n  }\n\n  getItems() {\n    this.db.collection('lostpets').where(\"status\", \"==\", false).onSnapshot(snapshots => {\n      console.log('snapshots', snapshots);\n      let pets = [];\n      snapshots.forEach(doc => {\n        let docData = doc.data();\n        docData['lostPetId'] = doc.id\n        pets.push(docData);\n      });\n      this.pets = pets;\n      console.log('this.pets', this.pets);\n      this.petsCount = Object.keys(pets).length;\n      this.pageLoaded = true;\n    }),(err => {\n      console.log('err', err);\n    });\n  }\n  \n  lostPetDetails(pet) {\n    console.log('pet', pet);\n    let modal = this.modalCtrl.create(LostPetDetailsPage, pet);\n\n    modal.onDidDismiss(data => {\n      if (data) {\n        // this.loadProfile();\n      }\n    });\n\n    modal.present();\n  }\n\n  removeLostPet(lostPetId) {\n    let confirm = this.alertCtrl.create({\n      title: 'Lost pet was found?',\n      message: 'Are you sure do you want to remove your post?',\n      buttons: [\n        {\n          text: 'Disagree',\n          handler: () => {\n            console.log('Disagree clicked');\n          }\n        },\n        {\n          text: 'Agree',\n          handler: () => {\n            this.db.collection('lostpets').doc(lostPetId).update({\n              status: true\n            });\n          }\n        }\n      ]\n    });\n    confirm.present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/lostpets/lostpets.ts"],"sourceRoot":""}